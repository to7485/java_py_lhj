

java 결석자 & 재시험
17시 ~ 18시 20분 1시간 20분 진행

	요청(request)
	fetch(요청주소,옵션)
사용자 		---->	    Controller의 메서드에 매핑

스프링부트
톰캣(tomcat)이 내장되어 있다.
was(web application server)
웹 브라우저 <-> 자바 프로그램 사이에서 소통을 도와주는 서버
http://서버주소/... -> HTPP 요청을 해석하고, 서블릿을 만들고, 응답을 만들어주는 역할

서블릿
HttpServlet클래스를 상속하는 클래스를 서블릿이라고 부른다.
doGet(), doPost()같은 메서드를 통해 요청을 받고, 응답을 만드는 코드를 작성했다.

JSP(Java Server Page) : HTML + JAVA(.jsp)
화면을 달라고 요청을 받으면 톰캣이 JSP -> 서블릿 코드로 변환 -> 컴파일 -> 클래스로 변환해서 실행을 했다.

JSP : 서버 사이드 렌더링(SSR)
HTML을 서버에서 만들어서 클라이언트에게 보낸다.
렌더링이 서버에서 일어나고, 클라이언트는 결과물인 HTML만 받는다.
- 화면이 바뀌어야 하면 서버에 다시 요청을 하고, 전체 HTML을 다시 받아야 한다.
Thymeleaf : html에 자바가 들어가긴 하는데 태그형태로 들어감
php

React : 클라이언트 사이드 렌더링(CSR)
브라우저 안에서 JavaScript로 화면을 렌더링한다.
첫 로딩 시 HTML은 비어있고, JS가 실행되면서 컴포넌트를 렌더링한다.
- 변경된 부분만 새로 업데이트 한다.
- 화면 전체가 새로고침되지는 않는다.

면접가서 토이프로젝트 -> 왜 이 기술 썼어요? -> 아 이게 좋다고 해서 썼어요
여러가지 언어로 만들어고보 특징을 비교해봤더니 이게 좋은거 같습니다.
ㄴ 렌더링속도 비교해봤을 때 xx가 x%더 빨라서 채택했습니다.

타자가 너무 느리신분들 연습점 ㅎㅎ... 150타 최소 ㅎㅎ...

톰캣을 서블릿 컨테이너라고 부른다.

요청을 보내면 톰캣이 받는다.
GET /api/products
↓
DispatcherServlet이 요청을 받는다.(스프링에 내장되어있는 객체)
스프링MVC의 핵심으로 모든 요청을 받는 프론트 컨트롤러 역할을 한다.
요청을 직접 처리하지는 않고, 처리를 위해 다른 요소들에 요청을 위임한다.
↓
Handler Mapping(핸들러 매핑)
DS이 현재 들어온 요청 URL에 매핑된 컨트롤러의 메서드를 찾아달라고 요청
핸들러 매핑은 @RequestMapping, @GetMapping, @PostMapping등의 어노테이션을 사용하여 등록된 컨트롤러 메서드 중에서 URL, HTTP메서드등을 만족하는 것을 찾는다.
↓
Handler Adapter(핸들러 어댑터)
DS이 찾은 컨트롤러 메서드를 실행을 한다.
매개변수에 붙어있는 어노테이션 @PathVariable, @RequestParam, @RequestBody에 지정된 값들을 세팅을 해주고 메서드를 실행해준다.
↓
Controller
↓
Service
↓
Repository
↓
DB
↓
Repository
↓
Service
↓
Controller
↓
Message Converter(메시지 컨버터)
자바 객체를 클라이언트가 이해할 수 있는(ex JSON)으로 변환한다.
HTTP응답의 body(본문)으로 설정된다.
↓
DispatcherServlet
HTTP 상태코드(2XX,3XX,4XX,5XX)와 변환된 응답본문을 포함하여 HTTP응답을 구성한다.

js로 HTML을 컨트롤 하는 방법

1. HTML 태그를 js에 등록
- document.getElementById()
- document.querySelector()
메서드를 통해서 태그를 불러오고 변수에 저장을 한다!!
(변수명을 태그의 역할에 맞게 지어주세요)

2. 발생되는 이벤트의 종류
이벤트가 뭔데?
사용자와 브라우저 사이에서 발생하는 모든 상호작용
- 클릭 "click"
- 더블클릭 "dbclick"
- 마우스 올리기(내리기) "mouseup", "mousedown"
- 우클릭 "contextmenu"
- 입력
- 수정
- 입력하고 입력창을 눌렀을 때(focus)
- blur
- change

3. 이벤트가 발생했을 때 처리

이벤트가 발생 할 것 같은 대상 태그.addEventListener("이벤트의 종류", 처리);


할일을 추가하는 함수
addTodo(){
   ....
}

추가 버튼을 눌렀을 때 할일을 추가
addBtn.addEventListener("click",addTodo)
함수명 뒤에 소괄호를 쓰지 않은 이유 : 함수 자체를 넘기기 위함
addTodo() : 함수를 실행한 결과를 전달하게 된다.


상품관리 서비스 만들기
상품과 주문에 대한 관리를 할 수 있는 서비스를 만들어보자
상품추가,조회 만들기
스프링부트 프로젝트 만들기
Group : com.korea
Artifact : product
필요 의존성
Spring web
H2
lombok
JPA
devtools

Entity 만들기
com.korea.product.model 패키지 생성하기
ProductEntity클래스 생성하기
속성
상품id (primary key)
상품이름
상품재고
상품가격
@CreationTimeStamp
- LocalDateTime 등록날짜
@UpdateTimeStamp
- LocalDateTime 수정날짜

DTO 만들기
com.korea.product.dto 패키지 만들기
ProductDTO 클래스 만들기


ResponseDTO 만들기
클라이언트와 데이터를 직접적으로 주고받기 위한 ResponseDTO클래스 만들기
- String error
- List<T> data;

영속계층 만들기
Repository 만들기
com.korea.product.persistence 패키지 생성하기
ProductRepository 인터페이스 생성하기

서비스계층 만들기
Service 만들기
com.korea.product.service 패키지 생성하기
ProductService 클래스 생성하기
ProductRepository 주입하기


표현계층 만들기
Controller 만들기
com.korea.product.controller 패키지 생성하기
ProductController 클래스 생성하기
ProductService 주입하기

모든 상품 조회하기
데이터베이스에 들어있는 모든 상품을 조회하시오
메서드명 : findAll();

ProductController
HTTP메서드 : GET
메서드명 : productList

포스트맨을 이용하여 결과를 확인해보세요

상품 추가하기
db에 상품 추가하기
ProductService
메서드명 : create

ProductController
HTTP메서드 : POST
메서드명 : createProduct

결석자 : 도경님
재평가 : 하운님, 해용님, 성혁님, 영빈님
















